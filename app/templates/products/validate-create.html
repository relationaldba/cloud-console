{% if field == "name" %}

{% if is_validated %}

<label for="name"
       hx-target="this"
       hx-swap="outerHTML">Product Name
  <input class="inline-editable"
         type="text"
         name="name"
         placeholder="Product Name"
         required
         minlength="3"
         maxlength="64"
         aria-label="Product Name"
         hx-post="/products/validate/name"
         hx-ext="json-enc"
         aria-invalid="false"
         value="{{ value }}" />
</label>

{% if ready_to_submit %}

<button type="submit"
        id="submit-btn"
        class="primary"
        hx-swap-oob="true"
        _="on htmx:beforeRequest set @aria-busy to 'true' then set @disabled to 'true' on htmx:afterRequest or htmx:responseError remove @aria-busy then remove @disabled">Save</button>

{% endif %}

{% else %}

<label for="name"
       hx-target="this"
       hx-swap="outerHTML">Product Name <sup><small><i class="bi bi-asterisk icon-warning"></i></small></sup>
  <input class="inline-editable"
         type="text"
         name="name"
         placeholder="Product Name"
         required
         minlength="3"
         maxlength="64"
         aria-label="Product Name"
         hx-post="/products/validate/name"
         hx-ext="json-enc"
         aria-invalid="true"
         value="{{ value }}" />

  <small id="name-helper">Must have atleast 3 letters, e.g. CDR.</small>
</label>

<button type="submit"
        id="submit-btn"
        class="primary"
        hx-swap-oob="true"
        disabled
        _="on htmx:beforeRequest set @aria-busy to 'true' then set @disabled to 'true' on htmx:afterRequest or htmx:responseError remove @aria-busy then remove @disabled">Save</button>

{% endif %}

{% elif field == "version" %}

{% if is_validated %}

<label for="version"
       hx-target="this"
       hx-swap="outerHTML">Version <sup><small><i class="bi bi-asterisk icon-warning"></i></small></sup>
  <input class="inline-editable"
         type="text"
         name="version"
         placeholder="Product Version e.g. 2024.11.R01"
         required
         minlength="3"
         maxlength="16"
         aria-label="Product Version"
         hx-post="/products/validate/version"
         hx-ext="json-enc"
         aria-invalid="false"
         value="{{ value }}" />
</label>

{% if ready_to_submit %}

<button type="submit"
        id="submit-btn"
        class="primary"
        hx-swap-oob="true"
        _="on htmx:beforeRequest set @aria-busy to 'true' then set @disabled to 'true' on htmx:afterRequest or htmx:responseError remove @aria-busy then remove @disabled">Save</button>

{% endif %}

{% else %}

<label for="version"
       hx-target="this"
       hx-swap="outerHTML">Version <sup><small><i class="bi bi-asterisk icon-warning"></i></small></sup>
  <input class="inline-editable"
         type="text"
         name="version"
         placeholder="Product Version e.g. 2024.11.R01"
         required
         minlength="3"
         maxlength="16"
         aria-label="Product Version"
         aria-invalid="true"
         hx-post="/products/validate/version"
         hx-ext="json-enc"
         value="{{ value }}" />

  <small id="version-helper">Must have atleast 3 characters and should be unique, e.g. 2024.11.R01.</small>
</label>

<button type="submit"
        id="submit-btn"
        class="primary"
        hx-swap-oob="true"
        disabled
        _="on htmx:beforeRequest set @aria-busy to 'true' then set @disabled to 'true' on htmx:afterRequest or htmx:responseError remove @aria-busy then remove @disabled">Save</button>

{% endif %}

{% elif field == "repository_url" %}

{% if is_validated %}

<label for="repository_url"
       hx-target="this"
       hx-swap="outerHTML">Docker repository URL <sup><small><i class="bi bi-asterisk icon-warning"></i></small></sup>
  <input class="inline-editable"
         type="text"
         name="repository_url"
         placeholder="Docker Repository URL"
         required
         minlength="3"
         maxlength="256"
         aria-label="Docker Repository URL"
         aria-describedby="repository_url-helper"
         hx-post="/products/validate/repository_url"
         hx-ext="json-enc"
         aria-invalid="false"
         value="{{ value }}" />
</label>

{% if ready_to_submit %}

<button type="submit"
        id="submit-btn"
        class="primary"
        hx-swap-oob="true"
        _="on htmx:beforeRequest set @aria-busy to 'true' then set @disabled to 'true' on htmx:afterRequest or htmx:responseError remove @aria-busy then remove @disabled">Save</button>

{% endif %}

{% else %}

<label for="repository_url"
       hx-target="this"
       hx-swap="outerHTML">Docker repository URL <sup><small><i class="bi bi-asterisk icon-warning"></i></small></sup>
  <input class="inline-editable"
         type="text"
         name="repository_url"
         placeholder="Docker Repository URL"
         required
         minlength="3"
         maxlength="256"
         aria-label="Docker Repository URL"
         aria-describedby="repository_url-helper"
         hx-post="/products/validate/repository_url"
         hx-ext="json-enc"
         aria-invalid="true"
         value="{{ value }}" />
  <small id="repository_url-helper">Must be a valid HTTP URL, e.g. https://docker.smilecdr.com/smilecdr:2024.11.R01</small>
</label>

<button type="submit"
        id="submit-btn"
        class="primary"
        hx-swap-oob="true"
        disabled
        _="on htmx:beforeRequest set @aria-busy to 'true' then set @disabled to 'true' on htmx:afterRequest or htmx:responseError remove @aria-busy then remove @disabled">Save</button>

{% endif %}

{% elif field == "repository_username" %}

{% if is_validated %}

<label for="repository_username"
       hx-target="this"
       hx-swap="outerHTML">Repository Username <sup><small><i class="bi bi-asterisk icon-warning"></i></small></sup>
  <input class="inline-editable"
         type="text"
         name="repository_username"
         placeholder="Repository Username"
         required
         minlength="3"
         maxlength="256"
         aria-label="Repository Username"
         aria-describedby="repository_username-helper"
         hx-post="/products/validate/repository_username"
         hx-ext="json-enc"
         aria-invalid="false"
         value="{{ value }}" />

</label>

{% if ready_to_submit %}

<button type="submit"
        id="submit-btn"
        class="primary"
        hx-swap-oob="true"
        _="on htmx:beforeRequest set @aria-busy to 'true' then set @disabled to 'true' on htmx:afterRequest or htmx:responseError remove @aria-busy then remove @disabled">Save</button>

{% endif %}

{% else %}

<label for="repository_username"
       hx-target="this"
       hx-swap="outerHTML">Repository Username <sup><small><i class="bi bi-asterisk icon-warning"></i></small></sup>
  <input class="inline-editable"
         type="text"
         name="repository_username"
         placeholder="Repository Username"
         required
         minlength="3"
         maxlength="256"
         aria-label="Repository Username"
         aria-describedby="repository_username-helper"
         hx-post="/products/validate/repository_username"
         hx-ext="json-enc"
         aria-invalid="true"
         value="{{ value }}" />
  <small id="repository_username-helper">Must have atleast 3 characters</small>
</label>

<button type="submit"
        id="submit-btn"
        class="primary"
        hx-swap-oob="true"
        disabled
        _="on htmx:beforeRequest set @aria-busy to 'true' then set @disabled to 'true' on htmx:afterRequest or htmx:responseError remove @aria-busy then remove @disabled">Save</button>

{% endif %}

{% endif %}