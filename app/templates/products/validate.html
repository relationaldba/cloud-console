{% if field == "name" and is_validated %}

<input class="inline-editable"
       type="text"
       name="name"
       placeholder="Product Name"
       required
       minlength="3"
       maxlength="64"
       aria-label="Product Name"
       hx-post="/products/validate/name"
       hx-target="this"
       hx-swap="outerHTML"
       hx-ext="json-enc"
       aria-invalid="false"
       value="{{ value }}" />
<small id="name-helper"
       hx-swap-oob="true"></small>

{% elif field == "name" and not is_validated %}

<input class="inline-editable"
       type="text"
       name="name"
       placeholder="Product Name"
       required
       minlength="3"
       maxlength="64"
       aria-label="Product Name"
       hx-post="/products/validate/name"
       hx-target="this"
       hx-swap="outerHTML"
       hx-ext="json-enc"
       aria-invalid="true"
       aria-describedby="name-helper"
       value="{{ value }}" />
<small id="name-helper"
       hx-swap-oob="true">Must have atleast 3 letters</small>

{% elif field == "version" and is_validated %}

<input class="inline-editable"
       type="text"
       name="version"
       placeholder="Product Version e.g. 2024.11.R01"
       required
       minlength="3"
       maxlength="16"
       aria-label="Product Version"
       hx-post="/products/validate/version"
       hx-target="this"
       hx-swap="outerHTML"
       hx-ext="json-enc"
       aria-invalid="false"
       value="{{ value }}" />
<small id="version-helper"
       hx-swap-oob="true"></small>

{% elif field == "version" and not is_validated %}

<input class="inline-editable"
       type="text"
       name="version"
       placeholder="Product Version e.g. 2024.11.R01"
       required
       minlength="3"
       maxlength="16"
       aria-label="Product Version"
       hx-post="/products/validate/version"
       hx-target="this"
       hx-swap="outerHTML"
       hx-ext="json-enc"
       aria-invalid="true"
       aria-describedby="version-helper"
       value="{{ value }}" />
<small id="version-helper"
       hx-swap-oob="true">Must have atleast 3 letters</small>

{% elif field == "repository_url" and is_validated %}

<input class="inline-editable"
       type="text"
       name="repository_url"
       placeholder="Docker Repository URL"
       required
       minlength="3"
       maxlength="256"
       aria-label="Docker Repository URL"
       hx-post="/products/validate/repository_url"
       hx-target="this"
       hx-swap="outerHTML"
       hx-ext="json-enc"
       aria-invalid="false"
       value="{{ value }}" />
<small id="repository_url-helper"
       hx-swap-oob="true"></small>

{% elif field == "repository_url" and not is_validated %}

<input class="inline-editable"
       type="text"
       name="repository_url"
       placeholder="Docker Repository URL"
       required
       minlength="3"
       maxlength="64"
       aria-label="Docker Repository URL"
       hx-post="/products/validate/repository_url"
       hx-target="this"
       hx-swap="outerHTML"
       hx-ext="json-enc"
       aria-invalid="true"
       aria-describedby="repository_url-helper"
       value="{{ value }}" />
<small id="repository_url-helper"
       hx-swap-oob="true">Must be valid http/https URL</small>

{% endif %}

<!-- Keep the sabe buttondisabled until ready_to_submit -->
<button type="submit"
        class="primary submit-btn"
        id="submit-btn"
        hx-swap-oob="true"
        {% if not ready_to_submit %}disabled{% endif %}
        _="on htmx:beforeRequest set @aria-busy to 'true' then set @disabled to 'true' on htmx:afterRequest or htmx:responseError remove @aria-busy then remove @disabled">Save</button>